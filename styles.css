/* Premium Calm Glass */
:root{--bgA:#f6f3ee;--bgB:#eef4f1;--ink:#0c1412;--muted:rgba(12,20,18,.62);--hair:rgba(12,20,18,.10);
--card:rgba(255,255,255,.72);--card2:rgba(255,255,255,.58);--accent:#0f2a24;--accent2:#20483f;
--shadow:0 10px 30px rgba(0,0,0,.08);--r:22px}
*{box-sizing:border-box}
body{margin:0;font-family:system-ui,-apple-system,Segoe UI,Roboto; color:var(--ink);
background:linear-gradient(180deg,var(--bgA),var(--bgB))}
.bg{position:fixed;inset:0;pointer-events:none}
.shell{max-width:520px;margin:0 auto;padding:18px}
.top{display:flex;justify-content:space-between;align-items:center;margin-bottom:8px}
.brand{display:flex;gap:10px;align-items:center}
.dot{width:12px;height:12px;border-radius:999px;background:linear-gradient(180deg,var(--accent),var(--accent2))}
.name{font-weight:650}
.sub{font-size:13px;color:var(--muted)}
.card{background:linear-gradient(180deg,var(--card),var(--card2));border:1px solid var(--hair);
border-radius:var(--r);box-shadow:var(--shadow);padding:18px}
.hero{text-align:center}
.kicker{font-size:12px;color:var(--muted)}
.state{font-weight:650;margin-top:4px}
.timer{font-size:40px;font-weight:800;margin:10px 0}
.whisper{font-size:14px;color:var(--muted);margin-bottom:10px}
.primary{width:100%;height:60px;border:none;border-radius:18px;color:#fff;
background:linear-gradient(180deg,var(--accent),#0b1f1a);font-size:18px;font-weight:700}
.weekly{margin-top:8px;font-size:14px;color:var(--muted)}
.more{margin-top:10px;border:none;background:transparent;color:var(--muted);font-weight:700}
.backdrop{position:fixed;inset:0;background:rgba(0,0,0,.28);backdrop-filter:blur(6px)}
.modal{position:fixed;left:50%;transform:translateX(-50%);bottom:16px;width:calc(100% - 24px);
max-width:520px;background:#fff;border-radius:24px;padding:16px;box-shadow:var(--shadow)}
.modalTop{display:flex;justify-content:space-between;align-items:center}
.modalTitle{font-weight:800}
.x{border:none;background:transparent;font-size:18px}
.stack{display:flex;flex-direction:column;gap:10px;margin-top:10px}
.rowBtn{border:1px solid var(--hair);border-radius:14px;padding:12px;background:#f7f7f7;font-weight:700;text-align:left}
.rowBtn.muted{color:var(--muted)}
.field{margin:10px 0}
.field label{font-size:12px;color:var(--muted)}
.field input{width:100%;padding:12px;border-radius:14px;border:1px solid var(--hair)}
.note{font-size:14px;color:var(--muted);margin-bottom:8px}
.hint{font-size:13px;color:var(--muted)}
.modalActions{display:flex;gap:10px;margin-top:10px}
.ghost{border:1px solid var(--hair);background:#f7f7f7;border-radius:14px;padding:10px}
.progressWrap{display:flex;gap:10px;align-items:center;margin:10px 0}
.progressBar{flex:1;height:10px;border-radius:999px;border:1px solid var(--hair);overflow:hidden}
.progressFill{height:100%;background:linear-gradient(180deg,var(--accent2),var(--accent))}
.progressLabel{font-size:13px;color:var(--muted)}
.triplet{display:grid;grid-template-columns:repeat(3,1fr);gap:10px}
.mLabel{font-size:12px;color:var(--muted)}
.mValue{font-weight:800}
.seg{display:flex;gap:6px;margin:8px 0}
.segBtn{flex:1;border:1px solid var(--hair);border-radius:12px;padding:8px;background:#f7f7f7}
.segBtn.isOn{background:#fff}
.grid{display:grid;grid-template-columns:repeat(2,1fr);gap:10px}
.metric{border:1px solid var(--hair);border-radius:14px;padding:10px}
.log{max-height:40vh;overflow:auto}
.toast{position:fixed;left:50%;transform:translateX(-50%);top:16px;background:rgba(15,42,36,.9);
color:#fff;padding:10px 14px;border-radius:14px}
.tips{padding-left:18px}


/* Stopwatch feel */
.timer{
  font-variant-numeric: tabular-nums;
  letter-spacing: .6px;
}

/* Theme chips */
.themeGrid{
  display:grid;
  grid-template-columns:repeat(2, 1fr);
  gap:10px;
  margin-top:10px;
}
.themeChip{
  display:flex;
  align-items:center;
  gap:10px;
  border:1px solid var(--hair);
  border-radius:14px;
  padding:12px;
  background:#f7f7f7;
  font-weight:750;
  text-align:left;
}
.themeChip.isOn{
  background:#fff;
  box-shadow: var(--shadow);
}
.swatch{
  width:14px;
  height:14px;
  border-radius:999px;
  border:1px solid rgba(0,0,0,.10);
}
.swEvergreen{ background: linear-gradient(180deg, #0f2a24, #20483f); }
.swOcean{ background: linear-gradient(180deg, #0b2a52, #1a5f8a); }
.swIndigo{ background: linear-gradient(180deg, #2a1f5a, #4c3bb4); }
.swAmber{ background: linear-gradient(180deg, #4a2a0b, #b45f1a); }

/* Theme palettes (override tokens) */
:root{ --themeName: evergreen; }

html[data-theme="evergreen"]{
  --accent:#0f2a24;
  --accent2:#20483f;
  --bgA:#f6f3ee;
  --bgB:#eef4f1;
}

html[data-theme="ocean"]{
  --accent:#0b2a52;
  --accent2:#1a5f8a;
  --bgA:#eef3fb;
  --bgB:#e9f4fb;
}

html[data-theme="indigo"]{
  --accent:#2a1f5a;
  --accent2:#4c3bb4;
  --bgA:#f2f1fb;
  --bgB:#ecebfa;
}

html[data-theme="amber"]{
  --accent:#4a2a0b;
  --accent2:#b45f1a;
  --bgA:#fbf4ea;
  --bgB:#f7efe1;
}

/* Ensure brand dot + primary button follow theme */
.dot{
  background:linear-gradient(180deg,var(--accent),var(--accent2));
}
.primary{
  background:linear-gradient(180deg,var(--accent), #0b1f1a);
}
